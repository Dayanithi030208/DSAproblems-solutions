import java.util.*;

/*
class ListNode {
    int val;
    ListNode next;
    ListNode prev;

    ListNode(int val) {
        this.val = val;
        this.next = null;
        this.prev = null;
    }
}
*/

public class RemoveDuplicatesDLL {

    // TODO: Implement your logic here
    public static ListNode removeDuplicates(ListNode head) {
        if(head==null||head.next==null) return head;
        ListNode temp1=head;
        ListNode temp2=head.next;
        while(temp2!=null){
            if(temp1.val!=temp2.val){
                temp1.next=temp2;
                temp2.prev=temp1;
                temp1=temp2;
                temp2=temp2.next;
                continue;
            }else{
                temp2=temp2.next;
            }
        }
        if(temp1.next!=null&&temp1.val==temp1.next.val){
            temp1.next=null;
        }
        return head;

    }

    // Utility: Create DLL from array
    public static ListNode createDLL(int[] arr) {
        if (arr.length == 0) return null;

        ListNode head = new ListNode(arr[0]);
        ListNode temp = head;

        for (int i = 1; i < arr.length; i++) {
            ListNode newNode = new ListNode(arr[i]);
            temp.next = newNode;
            newNode.prev = temp;
            temp = newNode;
        }
        return head;
    }

    // Utility: Print DLL
    public static void printDLL(ListNode head) {
        ListNode temp = head;
        while (temp != null) {
            System.out.print(temp.val);
            if (temp.next != null) System.out.print(" <-> ");
            temp = temp.next;
        }
        System.out.println();
    }

    public static void main(String[] args) {

        // Example 1
        int[] arr1 = {1, 1, 2, 3, 3, 4};
        ListNode head1 = createDLL(arr1);

        System.out.println("Original DLL:");
        printDLL(head1);

        head1 = removeDuplicates(head1);

        System.out.println("After removing duplicates:");
        printDLL(head1);

        // Example 2
        int[] arr2 = {5, 5, 5, 5};
        ListNode head2 = createDLL(arr2);

        System.out.println("\nOriginal DLL:");
        printDLL(head2);

        head2 = removeDuplicates(head2);

        System.out.println("After removing duplicates:");
        printDLL(head2);

        // Example 3
        int[] arr3 = {1, 2, 3, 4};
        ListNode head3 = createDLL(arr3);

        System.out.println("\nOriginal DLL:");
        printDLL(head3);

        head3 = removeDuplicates(head3);

        System.out.println("After removing duplicates:");
        printDLL(head3);
    }
}
